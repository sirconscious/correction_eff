{"ast":null,"code":"var _jsxFileName = \"/home/mehdi/Documents/programing/eff_correction/frontend/src/pages/Dossier.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport FraisSelector from '../redux/Selectores/FraisSelector';\nimport { InitialiserAction, ViderAction } from '../redux/Actions/FraisActions';\nimport TableauFrais from '../components/TableauFrais';\nimport { getall } from '../apis/endpoints';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dossier() {\n  _s();\n  const dispatch = useDispatch();\n  const listeFrais = useSelector(FraisSelector);\n  const vider = () => dispatch(ViderAction);\n  useEffect(() => {\n    const fetchAndInit = async () => {\n      try {\n        const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}${getall}`);\n        const fraisList = response.data.map(frais => ({\n          id: frais.id_dossier,\n          Driots_en: frais.Driots_en,\n          Consevation: frais.Consevation,\n          Date: frais.Date,\n          total: frais.total\n        }));\n        dispatch(InitialiserAction(fraisList));\n      } catch (error) {\n        var _error$response;\n        console.error(\"Erreur lors de la récupération des dossiers :\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      }\n    };\n    fetchAndInit();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(TableauFrais, {\n      listeFrais: listeFrais\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 15\n    }, this), listeFrais.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: vider,\n      children: \"Vider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 40\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(Dossier, \"f6GoRYthYhOQcPTYd8oqun8E1Ak=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = Dossier;\nvar _c;\n$RefreshReg$(_c, \"Dossier\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","FraisSelector","InitialiserAction","ViderAction","TableauFrais","getall","axios","jsxDEV","_jsxDEV","Dossier","_s","dispatch","listeFrais","vider","fetchAndInit","response","get","process","env","REACT_APP_BACKEND_URL","fraisList","data","map","frais","id","id_dossier","Driots_en","Consevation","Date","total","error","_error$response","console","message","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","_c","$RefreshReg$"],"sources":["/home/mehdi/Documents/programing/eff_correction/frontend/src/pages/Dossier.js"],"sourcesContent":["import React ,{useState , useEffect} from 'react'\nimport { useSelector , useDispatch } from 'react-redux' \nimport FraisSelector from '../redux/Selectores/FraisSelector' \nimport { InitialiserAction ,ViderAction } from '../redux/Actions/FraisActions'; \nimport TableauFrais from '../components/TableauFrais';  \nimport { getall } from '../apis/endpoints'; \nimport axios from 'axios';\nexport default function Dossier() {  \n    const dispatch = useDispatch();\n    const listeFrais = useSelector(FraisSelector);  \n    const vider = ()=>dispatch(ViderAction)\n    useEffect(() => {\n    const fetchAndInit = async () => {\n        try {\n            const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}${getall}`);\n            const fraisList = response.data.map((frais) => ({\n                id: frais.id_dossier,\n                Driots_en: frais.Driots_en,\n                Consevation: frais.Consevation,\n                Date: frais.Date,\n                total: frais.total\n            }));\n            dispatch(InitialiserAction(fraisList));\n        } catch (error) {\n            console.error(\"Erreur lors de la récupération des dossiers :\", error.response?.data || error.message);\n        }\n    };\n\n    fetchAndInit();\n}, []);\n  return (\n    <div>\n              <TableauFrais listeFrais ={listeFrais} />   \n            { listeFrais.length > 0 && <button onClick={vider}>Vider</button>}\n\n        \n    </div>\n  )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAGC,SAAS,QAAO,OAAO;AACjD,SAASC,WAAW,EAAGC,WAAW,QAAQ,aAAa;AACvD,OAAOC,aAAa,MAAM,mCAAmC;AAC7D,SAASC,iBAAiB,EAAEC,WAAW,QAAQ,+BAA+B;AAC9E,OAAOC,YAAY,MAAM,4BAA4B;AACrD,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1B,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAMC,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAMY,UAAU,GAAGb,WAAW,CAACE,aAAa,CAAC;EAC7C,MAAMY,KAAK,GAAGA,CAAA,KAAIF,QAAQ,CAACR,WAAW,CAAC;EACvCL,SAAS,CAAC,MAAM;IAChB,MAAMgB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,GAAGd,MAAM,EAAE,CAAC;QACjF,MAAMe,SAAS,GAAGL,QAAQ,CAACM,IAAI,CAACC,GAAG,CAAEC,KAAK,KAAM;UAC5CC,EAAE,EAAED,KAAK,CAACE,UAAU;UACpBC,SAAS,EAAEH,KAAK,CAACG,SAAS;UAC1BC,WAAW,EAAEJ,KAAK,CAACI,WAAW;UAC9BC,IAAI,EAAEL,KAAK,CAACK,IAAI;UAChBC,KAAK,EAAEN,KAAK,CAACM;QACjB,CAAC,CAAC,CAAC;QACHlB,QAAQ,CAACT,iBAAiB,CAACkB,SAAS,CAAC,CAAC;MAC1C,CAAC,CAAC,OAAOU,KAAK,EAAE;QAAA,IAAAC,eAAA;QACZC,OAAO,CAACF,KAAK,CAAC,+CAA+C,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACf,QAAQ,cAAAgB,eAAA,uBAAdA,eAAA,CAAgBV,IAAI,KAAIS,KAAK,CAACG,OAAO,CAAC;MACzG;IACJ,CAAC;IAEDnB,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EACJ,oBACEN,OAAA;IAAA0B,QAAA,gBACU1B,OAAA,CAACJ,YAAY;MAACQ,UAAU,EAAGA;IAAW;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACzC1B,UAAU,CAAC2B,MAAM,GAAG,CAAC,iBAAI/B,OAAA;MAAQgC,OAAO,EAAE3B,KAAM;MAAAqB,QAAA,EAAC;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGpE,CAAC;AAEV;AAAC5B,EAAA,CA/BuBD,OAAO;EAAA,QACVT,WAAW,EACTD,WAAW;AAAA;AAAA0C,EAAA,GAFVhC,OAAO;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}